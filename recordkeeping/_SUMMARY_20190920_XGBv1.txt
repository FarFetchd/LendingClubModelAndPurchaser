NOTES:
* initLoans.R still includes obnoxious chargeoff double-taxation in realROI (which propagates to ROIavg).
* model was trained on data restricted to loans with interest rates [0.06, 0.2].
* "hardship" mode loans excluded, and in particular excluded from purpspecbadness. (somehow, the highlyspecific
  hardship ones actually have consistently LESS FREQUENT is_bad).
* NOW XGBOOST!!!! Boosted trees.
* The fractaken+ROIavg values in here are the average of 3 separate 10fold CV runs. The triple and double check
  both looked a bit worse than the original? Not vastly worse, though.

Features used:
===========================
"MTHS_SINCE_LAST_MAJOR_DEROG","delinq_2yrs","badness_by_zip","jobtitlegood", "EMPLOYMENT_LENGTH",
"REVOLVING_UTILIZATION","INQUIRIES_IN_LAST_6_MONTHS", "after_loan_monthly_income","dti_frac",
"FICO_RANGE_LOW", "purp_spec_badness","LOAN_AMOUNT", "is_rent"

badness_by_zip is new, the rest is the same.

params: maxdepth = 11, numrounds = 200, eta = 0.1, minchildweight = 10



INITIALLY SELECTED 3 points along the frontier to use:
     badProb interest intceil   fractaken     roiAVG
8028  0.0650    0.115   0.180 0.00938666  0.08500000
8048  0.0675    0.100   0.180 0.01760000  0.08020000
8133  0.0800    0.100   0.180 0.03063333  0.07560000

==============================================
Here is what the points surrounding our chosen points look like, to make sure we aren't too fragile.

surround_good=subset(avgd, badProb>=0.06 & badProb<= 0.07 & interest>=0.105 & interest<=0.125 & intceil>=0.17)
> quantile(surround_good$roiAVG,seq(0,1,0.1))
   0%     10%     20%     30%      40%    50%     60%     70%      80%     90%     100%
0.07823 0.08036 0.08143 0.08208 0.08276 0.08346 0.08400  0.08443 0.08500 0.08560 0.08696
> quantile(surround_good$fractaken,seq(0,1,0.1))
   0%       10%      20%      30%      40%      50%     60%      70%       80%      90%     100%
0.006020 0.006892 0.007290 0.008183 0.008543 0.009570 0.010700 0.011850 0.012600 0.014416 0.018400


> surround_middle=subset(avgd, badProb>=0.0625 & badProb<= 0.0725 & interest>=0.09 & interest<=0.11 & intceil>=0.17)
> quantile(surround_middle$roiAVG,seq(0,1,0.1))
   0%     10%     20%     30%     40%     50%     60%      70%     80%     90%     100%
0.07173 0.07379 0.07479 0.07644 0.07739 0.07823 0.07939  0.08020 0.08097 0.08211 0.08423
> quantile(surround_middle$fractaken,seq(0,1,0.1))
   0%       10%      20%     30%       40%     50%      60%      70%      80%       90%     100%
0.009523 0.012400 0.013853 0.015240 0.016186 0.018100 0.020000 0.020720 0.023306 0.026353 0.033200


> surround_plenty=subset(avgd, badProb>=0.075 & badProb<= 0.085 & interest>=0.09 & interest<=0.11 & intceil>=0.17)
> quantile(surround_plenty$roiAVG,seq(0,1,0.1))
   0%     10%     20%     30%     40%     50%     60%     70%     80%     90%    100%
0.06863 0.07055 0.07158 0.07244 0.07323 0.07397 0.07469 0.07559 0.07619 0.07701 0.07890
> quantile(surround_plenty$fractaken ,seq(0,1,0.1))
  0%      10%     20%     30%     40%     50%     60%     70%     80%     90%    100%
0.01780 0.02236 0.02455 0.02708 0.02884 0.03096 0.03384 0.03640 0.04008 0.04452 0.05426
==============================================================================








> best = subset(good,roiAVG>0.0825&fractaken>0.0082)
> best
     badProb interest intceil   fractaken     roiAVG
4795  0.0550    0.100   0.160 0.008296667 0.08283333
6379  0.0550    0.100   0.170 0.008560000 0.08276667
7171  0.0550    0.100   0.175 0.008620000 0.08336667
7963  0.0550    0.100   0.180 0.008733333 0.08363333
7188  0.0575    0.100   0.175 0.010026667 0.08263333
7980  0.0575    0.100   0.180 0.010166667 0.08306667
4811  0.0575    0.105   0.160 0.008866667 0.08296667
6395  0.0575    0.105   0.170 0.009183333 0.08286667
7187  0.0575    0.105   0.175 0.009256667 0.08340000
7979  0.0575    0.105   0.180 0.009393333 0.08386667
7996  0.0600    0.105   0.180 0.010900000 0.08253333
6411  0.0600    0.110   0.170 0.008276667 0.08316667
7203  0.0600    0.110   0.175 0.008353333 0.08390000
7995  0.0600    0.110   0.180 0.008516667 0.08453333
4844  0.0625    0.110   0.160 0.009096667 0.08266667
6428  0.0625    0.110   0.170 0.009523333 0.08293333
7220  0.0625    0.110   0.175 0.009616667 0.08363333
8012  0.0625    0.110   0.180 0.009806667 0.08423333
7237  0.0650    0.110   0.175 0.010966667 0.08290000
8029  0.0650    0.110   0.180 0.011200000 0.08360000
4860  0.0650    0.115   0.160 0.008560000 0.08310000
5652  0.0650    0.115   0.165 0.008716667 0.08273333
6444  0.0650    0.115   0.170 0.009066667 0.08346667
7236  0.0650    0.115   0.175 0.009170000 0.08420000
8028  0.0650    0.115   0.180 0.009386667 0.08500000
8046  0.0675    0.110   0.180 0.012833333 0.08283333
6461  0.0675    0.115   0.170 0.010400000 0.08276667
7253  0.0675    0.115   0.175 0.010500000 0.08350000
8045  0.0675    0.115   0.180 0.010766667 0.08426667
7252  0.0675    0.120   0.175 0.008286667 0.08503333
8044  0.0675    0.120   0.180 0.008543333 0.08590000
8062  0.0700    0.115   0.180 0.012200000 0.08270000
7269  0.0700    0.120   0.175 0.009400000 0.08333333
8061  0.0700    0.120   0.180 0.009696667 0.08440000
8060  0.0700    0.125   0.180 0.008273333 0.08466667
8077  0.0725    0.125   0.180 0.009316667 0.08266667


> middle=subset(middle,roiAVG>0.078 & fractaken>0.015)
> middle
     badProb interest intceil  fractaken     roiAVG
6447  0.0650    0.100   0.170 0.01510000 0.07986667
7239  0.0650    0.100   0.175 0.01520000 0.08036667
8031  0.0650    0.100   0.180 0.01540000 0.08093333
2512  0.0675    0.100   0.145 0.01553333 0.07806667
3300  0.0675    0.100   0.150 0.01593333 0.07806667
4088  0.0675    0.100   0.155 0.01616667 0.07830000
4880  0.0675    0.100   0.160 0.01663333 0.07893333
5672  0.0675    0.100   0.165 0.01683333 0.07876667
6464  0.0675    0.100   0.170 0.01720000 0.07923333
7256  0.0675    0.100   0.175 0.01733333 0.07970000
8048  0.0675    0.100   0.180 0.01760000 0.08020000
4879  0.0675    0.105   0.160 0.01533333 0.07916667
5671  0.0675    0.105   0.165 0.01553333 0.07896667
6463  0.0675    0.105   0.170 0.01593333 0.07946667
7255  0.0675    0.105   0.175 0.01603333 0.07996667
8047  0.0675    0.105   0.180 0.01630000 0.08053333
6481  0.0700    0.100   0.170 0.01940000 0.07810000
7273  0.0700    0.100   0.175 0.01956667 0.07853333
8065  0.0700    0.100   0.180 0.01986667 0.07910000
6480  0.0700    0.105   0.170 0.01800000 0.07823333
7272  0.0700    0.105   0.175 0.01810000 0.07873333
8064  0.0700    0.105   0.180 0.01840000 0.07933333
8081  0.0725    0.105   0.180 0.02066667 0.07813333
4912  0.0725    0.110   0.160 0.01513333 0.07810000
6496  0.0725    0.110   0.170 0.01590000 0.07833333
7288  0.0725    0.110   0.175 0.01603333 0.07890000
8080  0.0725    0.110   0.180 0.01636667 0.07973333
7305  0.0750    0.110   0.175 0.01790000 0.07810000
8097  0.0750    0.110   0.180 0.01830000 0.07890000
7304  0.0750    0.115   0.175 0.01503333 0.07893333
8096  0.0750    0.115   0.180 0.01540000 0.07983333
8114  0.0775    0.110   0.180 0.02043333 0.07810000
8113  0.0775    0.115   0.180 0.01720000 0.07886667
8129  0.0800    0.120   0.180 0.01520000 0.07896667


> plentigreat=subset(plentiful, roiAVG>0.076 & fractaken>0.02)
> plentigreat
     badProb interest intceil  fractaken     roiAVG
6465  0.0675    0.095   0.170 0.02063333 0.07606667
7257  0.0675    0.095   0.175 0.02073333 0.07640000
8049  0.0675    0.095   0.180 0.02103333 0.07690000
8066  0.0700    0.095   0.180 0.02370000 0.07610000
4122  0.0725    0.100   0.155 0.02043333 0.07613333
4914  0.0725    0.100   0.160 0.02103333 0.07673333
5706  0.0725    0.100   0.165 0.02126667 0.07660000
6498  0.0725    0.100   0.170 0.02183333 0.07690000
7290  0.0725    0.100   0.175 0.02193333 0.07733333
8082  0.0725    0.100   0.180 0.02230000 0.07800000
6497  0.0725    0.105   0.170 0.02020000 0.07700000
7289  0.0725    0.105   0.175 0.02033333 0.07746667
8081  0.0725    0.105   0.180 0.02066667 0.07813333
6515  0.0750    0.100   0.170 0.02436667 0.07613333
7307  0.0750    0.100   0.175 0.02450000 0.07660000
8099  0.0750    0.100   0.180 0.02486667 0.07720000
6514  0.0750    0.105   0.170 0.02256667 0.07633333
7306  0.0750    0.105   0.175 0.02273333 0.07683333
8098  0.0750    0.105   0.180 0.02306667 0.07746667
8116  0.0775    0.100   0.180 0.02766667 0.07653333
7323  0.0775    0.105   0.175 0.02530000 0.07616667
8115  0.0775    0.105   0.180 0.02573333 0.07680000
8114  0.0775    0.110   0.180 0.02043333 0.07810000
7339  0.0800    0.110   0.175 0.02223333 0.07630000
8131  0.0800    0.110   0.180 0.02266667 0.07713333
8147  0.0825    0.115   0.180 0.02113333 0.07680000


> plentiplenti=subset(plentiful, fractaken>0.026)
> plentiplenti
     badProb interest intceil  fractaken     roiAVG
8083  0.0725    0.095   0.180 0.02653333 0.07506667
4948  0.0775    0.100   0.160 0.02610000 0.07516667
5740  0.0775    0.100   0.165 0.02640000 0.07513333
6532  0.0775    0.100   0.170 0.02706667 0.07553333
7324  0.0775    0.100   0.175 0.02726667 0.07593333
8116  0.0775    0.100   0.180 0.02766667 0.07653333
8133  0.0800    0.100   0.180 0.03063333 0.07560000
7340  0.0800    0.105   0.175 0.02810000 0.07523333
8132  0.0800    0.105   0.180 0.02850000 0.07586667


